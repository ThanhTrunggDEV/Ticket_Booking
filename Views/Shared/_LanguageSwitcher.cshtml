@using Microsoft.AspNetCore.Localization
@{
    var requestCulture = Context.Features.Get<IRequestCultureFeature>();
    var currentCulture = requestCulture?.RequestCulture?.UICulture?.Name ?? "vi";
    var returnUrl = Context.Request.Path + Context.Request.QueryString;
}

<div class="flex items-center gap-2">
    <a asp-controller="Language" 
       asp-action="SetLanguage" 
       asp-route-culture="vi" 
       asp-route-returnUrl="@returnUrl"
       class="px-3 py-1.5 rounded-lg text-sm font-medium transition-all @(currentCulture.StartsWith("vi") ? "bg-indigo-800 text-white" : "text-indigo-200 hover:bg-indigo-800 hover:text-white")">
        VI
    </a>
    <span class="text-indigo-400">|</span>
    <a asp-controller="Language" 
       asp-action="SetLanguage" 
       asp-route-culture="en" 
       asp-route-returnUrl="@returnUrl"
       class="px-3 py-1.5 rounded-lg text-sm font-medium transition-all @(currentCulture.StartsWith("en") ? "bg-indigo-800 text-white" : "text-indigo-200 hover:bg-indigo-800 hover:text-white")">
        EN
    </a>
</div>
